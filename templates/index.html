{% extends 'base.html' %}
{% load static %}

{% block title %}SVD Milk Agencies{% endblock %}

{% block extra_css %}
<style>
/* Company Logos */
.company-logo {
    height: 90px !important;
    width: 25% !important;
    object-fit: contain !important;
    padding: 4px !important;
    background: white !important;
    border-radius: 12px !important;
    margin: 10px !important;
    box-shadow: 0 4px 12px rgba(0,0,0,0.10) !important;
}

/* FULL WIDTH MODAL */
.modal-fullscreen .modal-content {
    border-radius: 10px;
}

/* Modal wrapper */
.products-wrapper {
    background: #ffffff;
    padding: 20px;
    border-radius: 15px;
    max-width: 1500px;
    margin: auto;
}

/* Product grid */
.products-grid {
    display: grid !important;
    grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)) !important;
    gap: 20px !important;
    padding: 10px;
    justify-items: center !important;
}

/* Product card */
.product-card {
    width: 100%;
    max-width: 180px;
    background: white;
    padding: 10px;
    border-radius: 12px;
    text-align: center;
    box-shadow: 0 3px 10px rgba(0,0,0,0.12);
}

/* Product image styling */
.product-img {
    height: 130px;
    width: 100%;
    object-fit: contain;
    padding: 5px;
    background: white;
    border-radius: 10px;
    margin-bottom: 10px;
}

/* MAP / LOCATION CARD */
.location-card {
    background: #ffffff;
    border-radius: 14px;
    padding: 25px;
    box-shadow: 0 4px 18px rgba(0,0,0,0.08);
    border: 1px solid #f1f1f1;
}

.location-card iframe {
    width: 100%;
    height: 380px;
    border-radius: 14px;
    box-shadow: 0 3px 12px rgba(0,0,0,0.10);
    transition: 0.25s ease;
}

.location-card iframe:hover {
    transform: scale(1.01);
}

/* Badges */
.location-card p {
    background: #f9f9f9;
    padding: 8px 12px;
    margin-bottom: 8px;
}

/* Mobile view */
@media (max-width: 768px) {
    .product-card {
        max-width: 150px;
    }
    .product-img {
        height: 100px;
    }
    .location-card iframe {
        height: 300px;
    }
}
</style>
{% endblock extra_css %}



{% block content %}

<!-- HERO SECTION -->
<section class="hero-section d-flex align-items-center">
    <div class="container-fluid mt-5 text-center">

        <!-- LOGO -->
        <div class="hero-logo-wrapper mb-4">
            <img src="{% static 'images/SVD1.png' %}" style="height:120px;">
        </div>

        <h3 class="display-3 fw-bold text-white">
            Fresh <span class="gradient-text">Milk</span> Delivery<br>Every Day
        </h3>

        <p class="lead text-white">Your Trusted Partner for Quality Dairy Products</p>

        <!-- Company Logo (Dodla only) -->
        <div class="my-4">
            {% for company in companies %}
                {% if company.name == "Dodla" %}
                <img src="{{ company.logo.url }}" class="company-logo">
                {% endif %}
            {% endfor %}
        </div>

        <p class="text-white badge bg-warning p-2">
            <i class="bi bi-geo-alt-fill me-2"></i>Service : Gundugolanu and Surroundings
        </p><br>

        <p class="text-white badge bg-warning p-2">
            <i class="bi bi-telephone-fill me-2"></i>
            <a href="tel:+919392890375" class="text-white">+91 9392890375</a>
        </p>

        <!-- Buttons -->
        <div class="mt-4">
            <button class="btn btn-primary px-5 py-3 fw-semibold"
                    data-bs-toggle="modal" data-bs-target="#productsModal">
                Explore Products
            </button>

            <a href="#contact" class="btn btn-outline-light px-5 py-3 fw-semibold">
                Get in Touch
            </a>
        </div>
    </div>
</section>



<!-- PRODUCTS MODAL -->
<div class="modal fade" id="productsModal">
    <div class="modal-dialog modal-fullscreen modal-dialog-scrollable">
        <div class="modal-content">

            <div class="modal-header">
                <h4 class="modal-title">Our Premium Products</h4>
                <button class="btn-close" data-bs-dismiss="modal"></button>
            </div>

            <div class="modal-body">
                <div class="products-wrapper">

                    <h2 class="text-center mb-3">Our Premium Products</h2>
                    <p class="text-muted text-center">Company-wise Product Availability</p>

                    {% for company in companies %}
                        {% if company.name == "Dodla" %}

                        <div class="text-center mb-4">
                            <img src="{{ company.logo.url }}" class="company-logo" style="height:70px;">
                            <h3 class="mt-2">{{ company.name }} Products</h3>
                        </div>

                        <!-- Products Grid -->
                        <div class="products-grid">
                            {% for product in products %}
                                {% if product.company == company %}
                                <div class="product-card">
                                    <img src="{{ product.image.url }}" class="product-img">
                                    <h6>{{ product.name }}</h6>
                                    <p class="fw-bold">₹{{ product.mrp }}</p>
                                </div>
                                {% endif %}
                            {% endfor %}
                        </div>

                        {% endif %}
                    {% endfor %}

                </div>
            </div>

        </div>
    </div>
</div>



<!-- CONTACT SECTION -->
<section class="py-5" id="contact">
    <div class="container-fluid">

        <div class="text-center mb-5">
            <h2>Get In Touch</h2>
            <p>Find our location or send us a message</p>
        </div>

        <div class="row g-4">

            <!-- MAP -->
            <div class="col-lg-6">
                <div class="location-card">
                    <h4><i class="bi bi-geo-alt-fill me-2"></i>Our Location</h4>

                    <iframe src="https://maps.google.com/maps?q=16.7784167,81.2303611&z=14&output=embed" loading="lazy"></iframe>

                    <p class="badge bg-info p-2 mt-3">Mon–Sun: 6 AM – 9 PM</p>
                    <p class="badge bg-info p-2"><a href="tel:+919392890375">+91 9392890375</a></p>
                    <p class="badge bg-info p-2"><a href="mailto:svdagencies12@gmail.com">svdagencies12@gmail.com</a></p>
                </div>
            </div>

            <!-- CONTACT FORM -->
            <div class="col-lg-6">
                <div class="location-card">
                    <h4><i class="bi bi-envelope-paper me-2"></i>Send us a Message</h4>

                    <form>
                        <div class="row g-3">
                            <div class="col-md-6">
                                <label>Name *</label>
                                <input type="text" class="form-control" required>
                            </div>

                            <div class="col-md-6">
                                <label>Phone *</label>
                                <input type="tel" class="form-control" required>
                            </div>

                            <div class="col-12">
                                <label>Email</label>
                                <input type="email" class="form-control">
                            </div>

                            <div class="col-12">
                                <label>Message *</label>
                                <textarea rows="4" class="form-control" required></textarea>
                            </div>

                            <div class="col-12 text-center mt-3">
                                <button class="btn btn-success btn-lg">
                                    <i class="bi bi-whatsapp me-2"></i>Share via WhatsApp
                                </button>
                            </div>
                        </div>
                    </form>

                </div>
            </div>

        </div>
    </div>
</section>

{% endblock %}
